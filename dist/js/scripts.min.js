!function(){function e(){var e=new Date;if(e.getMinutes()<10)var t="0"+e.getMinutes();else t=e.getMinutes();var n="Ostatnio zapisano: "+e.getDate()+"."+(e.getMonth()+1)+"."+e.getFullYear()+" "+e.getHours()+":"+t;return n.toString()}function t(){var t=e();document.querySelector("#changeTimer").textContent=t,window.localStorage.setItem("dateFormUpdate",t)}function n(){document.querySelector("#changeTimer").textContent=updateTime=window.localStorage.dateFormUpdate}function r(){window.localStorage.setItem("fieldsValues",JSON.stringify(h))}function o(e,n){h[e]=n,r(),t()}function a(){for(var e=0;e<p.length;e++)p[e].addEventListener("change",function(){o(this.name,this.value)})}function u(){if(window.localStorage.fieldsValues){h=JSON.parse(window.localStorage.fieldsValues);for(var e in h)if("invoiceType"===e){var t=h.invoiceType;document.querySelector("[value='"+t+"']").checked=!0}else document.querySelector("[name='"+e+"']").value=h[e]}}function l(e){var t=document.querySelector("ul.errors");t||(t=document.createElement("ul"),t.classList.add("errors","list-group")),t.innerHTML="",e.forEach(function(e){var n=document.createElement("li");n.classList.add("list-group-item","list-group-item-danger"),n.textContent=e,t.appendChild(n)}),g.parentNode.insertBefore(t,g)}function c(e){return""!==e.value}function s(){for(var e=!1,t=document.querySelectorAll("input[type=radio]"),n=0;n<t.length;n++)if(t[n].checked===!0){e=!0;break}return e}function d(e){if(null==e)return!1;if(e=e.replace(/\-/g,""),10!=e.length)return!1;for(i=0;i<10;i++)if(isNaN(e[i]))return!1;return sum=6*e[0]+5*e[1]+7*e[2]+2*e[3]+3*e[4]+4*e[5]+5*e[6]+6*e[7]+7*e[8],sum%=11,e[9]==sum}function f(){for(var e=[],t=0;t<v.length;t++){var n=v[t],r=!1;"company-nip"===n.name?r=d(n.value):"text"===n.type||"number"===n.type?r=c(n):"radio-box"===n.className&&(r=s(n)),r?n.parentNode.classList.remove("has-error"):(n.parentNode.classList.add("has-error"),e.push(n.dataset.error))}e.length?l(e):g.submit()}function m(){g.addEventListener("submit",function(e){e.preventDefault(),f()},!1)}var g=document.querySelector("form"),p=g.querySelectorAll("input[name]:not([type='submit'])"),v=g.querySelectorAll("[data-error]"),h={};m(),"localStorage"in window&&(n(),u(),a())}();